# Brigine - è·¨å¼•æ“ 3D åœºæ™¯åä½œå·¥å…·

Brigine æ˜¯ä¸€ä¸ªåŸºäº USD æ ¼å¼çš„è·¨å¼•æ“ 3D åœºæ™¯ç¼–è¾‘å’Œè¿è¡Œæ—¶å·¥å…·ï¼Œé€šè¿‡ gRPC é€šä¿¡å®ç°ä¸åŒæ¸¸æˆå¼•æ“é—´çš„å®æ—¶åœºæ™¯åŒæ­¥å’Œèµ„äº§å…±äº«ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. è·¨å¼•æ“åœºæ™¯åŒæ­¥
- åœ¨ Unity ç¼–è¾‘å™¨ä¸­ä¿®æ”¹åœºæ™¯ï¼Œå®æ—¶åŒæ­¥åˆ° Godot è¿è¡Œæ—¶
- æ”¯æŒå‡ ä½•ä½“ã€å˜æ¢ã€æè´¨ã€ç¯å…‰çš„å®æ—¶åŒæ­¥
- åŸºäº USD æ ¼å¼çš„æ— æŸæ•°æ®è½¬æ¢

### 2. ç»Ÿä¸€èµ„äº§ç®¡ç†
- USD æ ¼å¼ä½œä¸ºä¸­é—´æ ¼å¼ï¼Œæ”¯æŒ Unityã€Godot é—´çš„èµ„äº§è½¬æ¢
- å®æ—¶èµ„äº§åŠ è½½å’Œå¸è½½
- èµ„äº§ä¾èµ–å…³ç³»ç®¡ç†

### 3. åˆ†å¸ƒå¼ç¼–è¾‘
- å¤šä¸ªç¼–è¾‘å™¨å¯ä»¥åŒæ—¶ç¼–è¾‘åŒä¸€ä¸ªåœºæ™¯
- å®æ—¶å˜æ›´å¹¿æ’­å’Œå†²çªè§£å†³
- æ”¯æŒæœ¬åœ°å’Œç½‘ç»œåä½œ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    gRPC     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Unity Editor   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Brigine Server  â”‚
â”‚  + Plugin       â”‚             â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                â”‚  â”‚Framework  â”‚  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚Service    â”‚  â”‚
â”‚  Godot Editor   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  + Plugin       â”‚             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚Asset      â”‚  â”‚
                                â”‚  â”‚Service    â”‚  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Godot Runtime  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  + Integration  â”‚             â”‚  â”‚Scene      â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚Service    â”‚  â”‚
                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ å…·ä½“å·¥å…·ç»„ä»¶

### Brigine.Communication.Server
ç‹¬ç«‹çš„ gRPC æœåŠ¡å™¨ï¼Œè´Ÿè´£ï¼š
- ç®¡ç†å¤šä¸ªå¼•æ“å®¢æˆ·ç«¯è¿æ¥
- å¤„ç†åœºæ™¯æ•°æ®çš„è½¬æ¢å’ŒåŒæ­¥
- æä¾› REST API ç”¨äºç›‘æ§å’Œç®¡ç†

### Unity Plugin (com.brigine.unity)
Unity Packageï¼Œæä¾›ï¼š
- åœºæ™¯å¯¼å‡ºä¸º USD æ ¼å¼
- å®æ—¶åœºæ™¯å˜æ›´ç›‘å¬
- gRPC å®¢æˆ·ç«¯é›†æˆ
- ç¼–è¾‘å™¨ UI é¢æ¿

### Godot Integration (Brigine.Godot)
Godot æ’ä»¶ï¼Œæä¾›ï¼š
- USD åœºæ™¯åŠ è½½å™¨
- å®æ—¶åœºæ™¯æ›´æ–°æ¥æ”¶
- C# å’Œ GDScript ç»‘å®š

## ğŸ“‹ å®é™…ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šUnity ç¼–è¾‘ + Godot é¢„è§ˆ
```bash
# 1. å¯åŠ¨ Brigine æœåŠ¡å™¨
cd src/Brigine.Communication.Server
dotnet run

# 2. Unity ä¸­å®‰è£…æ’ä»¶å¹¶è¿æ¥
# 3. Godot ä¸­åŠ è½½ Brigine æ’ä»¶å¹¶è¿æ¥
# 4. åœ¨ Unity ä¸­ç¼–è¾‘åœºæ™¯ï¼ŒGodot ä¸­å®æ—¶é¢„è§ˆ
```

### åœºæ™¯ 2ï¼šå¤šäººåä½œç¼–è¾‘
```bash
# å›¢é˜Ÿæˆå‘˜ A ä½¿ç”¨ Unity ç¼–è¾‘å™¨
# å›¢é˜Ÿæˆå‘˜ B ä½¿ç”¨ Godot ç¼–è¾‘å™¨
# ä¸¤äººåŒæ—¶ç¼–è¾‘åŒä¸€ä¸ªåœºæ™¯ï¼Œå®æ—¶çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹
```

### åœºæ™¯ 3ï¼šèµ„äº§ç®¡é“
```bash
# ç¾æœ¯å¸ˆåœ¨ Maya ä¸­å¯¼å‡º USD æ–‡ä»¶
# ç¨‹åºå‘˜åœ¨ Unity ä¸­å¯¼å…¥å¹¶è°ƒæ•´
# è®¾è®¡å¸ˆåœ¨ Godot ä¸­æŸ¥çœ‹æœ€ç»ˆæ•ˆæœ
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- .NET 8.0 SDK
- Unity 2022.3+ (å¯é€‰)
- Godot 4.0+ (å¯é€‰)

### 1. å¯åŠ¨æœåŠ¡å™¨
```bash
git clone https://github.com/your-org/Brigine.git
cd Brigine/src/Brigine.Communication.Server
dotnet run
```
æœåŠ¡å™¨å°†åœ¨ `http://localhost:50051` å¯åŠ¨

### 2. Unity é›†æˆ
```bash
# å¤åˆ¶ Unity Package åˆ°é¡¹ç›®
cp -r com.brigine.unity /path/to/unity/project/Packages/

# æˆ–é€šè¿‡ Package Manager æ·»åŠ æœ¬åœ°åŒ…
```

åœ¨ Unity ä¸­ï¼š
1. æ‰“å¼€ `Window > Brigine > Connection Panel`
2. è¿æ¥åˆ° `localhost:50051`
3. åˆ›å»ºæˆ–åŠ è½½åœºæ™¯
4. ç‚¹å‡» "Start Sync" å¼€å§‹åŒæ­¥

### 3. Godot é›†æˆ
```bash
# å¤åˆ¶æ’ä»¶åˆ° Godot é¡¹ç›®
cp -r addons/brigine /path/to/godot/project/addons/
```

åœ¨ Godot ä¸­ï¼š
1. å¯ç”¨ Brigine æ’ä»¶
2. åœ¨åœºæ™¯ä¸­æ·»åŠ  BrigineSync èŠ‚ç‚¹
3. è®¾ç½®æœåŠ¡å™¨åœ°å€ä¸º `localhost:50051`
4. è¿è¡Œåœºæ™¯å¼€å§‹æ¥æ”¶åŒæ­¥æ•°æ®

## ğŸ“Š æ”¯æŒçš„æ•°æ®ç±»å‹

### å‡ ä½•ä½“
- âœ… Mesh (é¡¶ç‚¹ã€æ³•çº¿ã€UV)
- âœ… Transform (ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾)
- ğŸ”„ Curves (è®¡åˆ’ä¸­)
- ğŸ”„ Volumes (è®¡åˆ’ä¸­)

### æè´¨
- âœ… åŸºç¡€æè´¨å±æ€§ (é¢œè‰²ã€é‡‘å±åº¦ã€ç²—ç³™åº¦)
- âœ… çº¹ç†è´´å›¾
- ğŸ”„ èŠ‚ç‚¹æè´¨ (è®¡åˆ’ä¸­)

### ç¯å…‰
- âœ… æ–¹å‘å…‰ã€ç‚¹å…‰æºã€èšå…‰ç¯
- âœ… å¼ºåº¦ã€é¢œè‰²ã€é˜´å½±è®¾ç½®
- ğŸ”„ åŒºåŸŸå…‰ (è®¡åˆ’ä¸­)

### åŠ¨ç”»
- ğŸ”„ å…³é”®å¸§åŠ¨ç”» (è®¡åˆ’ä¸­)
- ğŸ”„ éª¨éª¼åŠ¨ç”» (è®¡åˆ’ä¸­)

## ğŸ”Œ API ç¤ºä¾‹

### C# å®¢æˆ·ç«¯
```csharp
using var client = new BrigineClient("http://localhost:50051");

// å¯åŠ¨æ¡†æ¶
var framework = await client.StartFrameworkAsync(new[] { "Unity" });

// åŠ è½½ USD èµ„äº§
var asset = await client.LoadAssetAsync(framework.FrameworkId, "cube.usda");

// åˆ›å»ºå®ä½“
var entity = BrigineClient.CreateEntity("MyCube", "Mesh");
await client.AddEntityToSceneAsync(framework.FrameworkId, entity);

// æ›´æ–°å˜æ¢
var transform = BrigineClient.CreateTransform(1, 2, 3);
await client.UpdateEntityTransformAsync(framework.FrameworkId, entity.EntityId, transform);
```

### REST API
```bash
# è·å–æ¡†æ¶çŠ¶æ€
curl http://localhost:50051/api/framework/status

# åˆ—å‡ºå·²åŠ è½½èµ„äº§
curl http://localhost:50051/api/assets

# è·å–åœºæ™¯å®ä½“
curl http://localhost:50051/api/scene/entities
```

## ğŸ› ï¸ å¼€å‘å’Œæ‰©å±•

### æ·»åŠ æ–°å¼•æ“æ”¯æŒ
1. å®ç° `IEngineAdapter` æ¥å£
2. åˆ›å»ºå¼•æ“ç‰¹å®šçš„æ’ä»¶
3. æ³¨å†Œåˆ° `BrigineFrameworkService`

### è‡ªå®šä¹‰æ•°æ®ç±»å‹
1. æ‰©å±• USD Schema
2. æ›´æ–° Proto å®šä¹‰
3. å®ç°è½¬æ¢å™¨

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### å½“å‰æ€§èƒ½
- åœºæ™¯åŒæ­¥å»¶è¿Ÿï¼š< 50ms (æœ¬åœ°ç½‘ç»œ)
- æ”¯æŒå®ä½“æ•°é‡ï¼š1000+ ä¸ª
- å†…å­˜å ç”¨ï¼š< 100MB (æœåŠ¡å™¨)

### ä¼˜åŒ–ç‰¹æ€§
- å¢é‡åŒæ­¥ï¼šåªä¼ è¾“å˜æ›´çš„æ•°æ®
- å‹ç¼©ä¼ è¾“ï¼šgRPC è‡ªåŠ¨å‹ç¼©
- æ™ºèƒ½ç¼“å­˜ï¼šLRU ç¼“å­˜ç­–ç•¥

## ğŸ› å·²çŸ¥é™åˆ¶

- ç›®å‰åªæ”¯æŒé™æ€å‡ ä½•ä½“ï¼Œä¸æ”¯æŒåŠ¨ç”»
- æè´¨ç³»ç»Ÿä»…æ”¯æŒåŸºç¡€ PBR å±æ€§
- å¤§å‹åœºæ™¯ (>10000 å®ä½“) å¯èƒ½æœ‰æ€§èƒ½é—®é¢˜
- ç½‘ç»œä¸­æ–­æ—¶éœ€è¦æ‰‹åŠ¨é‡è¿

## ğŸ“‹ å¼€å‘è·¯çº¿å›¾

### v0.2.0 (ä¸‹ä¸ªç‰ˆæœ¬)
- [ ] å®Œå–„ USD æè´¨æ”¯æŒ
- [ ] æ·»åŠ åœºæ™¯å±‚æ¬¡ç»“æ„åŒæ­¥
- [ ] å®ç°è‡ªåŠ¨é‡è¿æœºåˆ¶
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå†…å­˜ç®¡ç†

### v0.3.0
- [ ] æ”¯æŒåŸºç¡€åŠ¨ç”»åŒæ­¥
- [ ] æ·»åŠ  Unreal Engine é›†æˆ
- [ ] Web ç®¡ç†ç•Œé¢
- [ ] æ’ä»¶å¸‚åœºåŸºç¡€è®¾æ–½

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æŠ¥å‘Šé—®é¢˜
- ä½¿ç”¨ GitHub Issues
- æä¾›è¯¦ç»†çš„å¤ç°æ­¥éª¤
- åŒ…å«æ—¥å¿—æ–‡ä»¶å’Œç¯å¢ƒä¿¡æ¯

### æäº¤ä»£ç 
1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. ç¼–å†™æµ‹è¯•
4. æäº¤ Pull Request

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
git clone https://github.com/your-org/Brigine.git
cd Brigine
dotnet restore
dotnet build
dotnet test
```

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

**Brigine - ä¸“ä¸šçš„è·¨å¼•æ“ 3D åœºæ™¯åä½œå·¥å…·** ğŸ”§âš¡